<template>
    <div class="notification-dropdown">
        <div class="dropdown-header">
            <h3>ìµœê·¼ ì‚¬ê³  ëª©ë¡ (t_ride)</h3>
            <router-link to="/info" @click="$emit('close')">ì „ì²´ ìš´í–‰ ë³´ê¸°</router-link>
        </div>

        <ul class="dropdown-list" v-if="!store.isLoading && store.accidentRides.length > 0">
            <li v-for="item in store.accidentRides" :key="item.id" class="dropdown-item">
                <div class="item-icon">ğŸš¨</div>
                <div class="item-content">
                    <div class="item-title">{{ item.title }}</div>
                    <div class="item-message">{{ item.message }}</div>
                    <div class="item-time">ì¢…ë£Œ ì‹œê°„: {{ item.time }}</div>
                </div>
            </li>
        </ul>
        <div v-else-if="store.isLoading" class="dropdown-empty">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
        <div v-else class="dropdown-empty">ìµœê·¼ ì¢…ë£Œëœ ì‚¬ê³  ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.</div>
    </div>
</template>

<script setup>
import { useNotificationStore } from '@/stores/notification.store.js';

// Pinia ìŠ¤í† ì–´ ì¸ìŠ¤í„´ìŠ¤
const store = useNotificationStore();
defineEmits(['close']);
</script>

<style scoped src="@/assets/styles/components/NotificationDropdown.css"></style>
